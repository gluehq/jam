
@import '../jam/base';
@import '../jam/_grid';
@import '../jam/type';


// Return width of one column plus one gutter

@function unit($cols, $media, $mod) {
    $unit: calc((#{percentage(1/$cols)} + #{(xgap($media) / $cols - 1)}) * #{$mod});
    @return $unit;
}

@mixin image($media) {
    
    &.left, &.right {
        width: calc(50% - (#{xgap($media)} / 2));
    }
    
    &.left {
        float: left;
        margin-right: xgap($media);
    }
    
    &.right {
        float: right;
        margin-left: xgap($media);
    }

    @if $media == large or $media == standard or $media == tablet  {
    
        &.jutting {
            $unit: unit(10, $media, -1);
            margin: 0 $unit ygap($media) $unit;
        }

    } @else if $media == phone or $media == plus {

        &.jutting {
            $unit: unit(16, $media, -1);
            margin: 0 $unit ygap($media) $unit;
            content: 'tits';
        }
        
        &.left, &.right {
            margin-left: 0;
            width: 100%;
        }

    }

}

.image {

    margin: 4px 0 20px 0;

    @include image(large);
    
    @each $media in $all-media {

        @if $media == standard {
    
            @include media($media) {
    
                @include image($media);

            }

        } @else if $media == tablet {
    
            @include media($media) {
    
                @include image($media);

            }

        } @else if $media == phone or $media == plus {

            @include media($media) {
    
                @include image($media);

            }

        }
        
    }
    
}
