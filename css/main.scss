
@import '../jam/base';
@import '../jam/_grid';
@import '../jam/type';


// Return width of one column plus one gutter

@function unit($cols, $media, $mod) {
    $unit: calc(#{percentage(1/$cols) * #{$mod}});
    @return $unit;
}

.jam .body-col {

    display: block !important;
    
    @each $media in $single-media {
        
        @if $media == large or $media == standard or $media == tablet {
            
            @include media($media) {

                padding: 0 unit(12, $media, 1);

                & > *:not([class*=cols]) {
                    padding: 0 (xgap($media) / 2);
                }

            }
            
        } @else {
                
            @include media($media) {

                padding: 0;

                & > *:not([class*=cols])  {
                    padding: 0 (xgap($media) / 2);
                }

                .image {
                    box-sizing: border-box;
                }

                .image.jutting {
                    padding: 0;
                }

            }
            
        }
        
    }
    
}

@mixin image($media) {

    margin: 4px 0 (ygap($media) / 2) 0;
    
    &.left, &.right { 
        width: calc(50% - #{xgap($media)});
    }
    
    &.left {
        float: left;
        margin-right: xgap($media) / 2;
    }
    
    &.right {
        float: right;
        margin-left: xgap($media) / 2;
    }

    @if $media == large or $media == standard or $media == tablet  {
    
        &.jutting {
            $unit: unit(10, $media, -1);
            margin: 0 $unit ygap($media) $unit;
        }

    } @else if $media == phone or $media == plus {

        &.jutting {
            $unit: unit(16, $media, -1);
            margin: 0 $unit ygap($media) $unit;
            content: 'tits';
        }
        
        &.left, &.right {
            margin-left: 0;
            width: 100%;
        }

    }

}

.image {

    @include image(large);
    
    @each $media in $all-media {

        @if $media == standard {
    
            @include media($media) {
    
                @include image($media);

            }

        } @else if $media == tablet {
    
            @include media($media) {
    
                @include image($media);

            }

        } @else if $media == phone or $media == plus {

            @include media($media) {
    
                @include image($media);

            }

        }
        
    }
    
}

.side-col {

    $media: tablet, standard, large;

    @each $this-media in $media {

        @include media($this-media) {
            padding-left: pad($this-media, 4, col);
        }

    }

}
